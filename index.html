<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Magazin Bisericesc</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Stilizare generalƒÉ */
    .section-container {
      border: 1px solid #a30000;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 20px;
      background-color: #fff;
      text-align: center;
    }
    .text-start { text-align: left !important; }
    table.table {
      border: 1px solid #a30000;
      border-collapse: collapse;
      width: 100%;
    }
    table.table th, table.table td {
      border: 1px solid #a30000 !important;
      padding: 8px;
      text-align: left;
    }
    header, footer {
      background: linear-gradient(135deg, #500000, #a30000);
      color: #fff;
      padding: 10px 20px;
    }
    header img.logo, footer img { height: 50px; }
    nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      justify-content: center;
    }
    nav ul li a {
      color: #fff;
      font-weight: bold;
      text-decoration: none;
      cursor: pointer;
    }
    .cart-icon {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }
    .cart-icon img { height: 24px; }
    .cart-icon .badge {
      position: absolute;
      top: -5px;
      right: -10px;
      background: yellow;
      color: #000;
      border-radius: 50%;
      padding: 2px 6px;
      font-size: 0.8rem;
    }
    .main-container {
      background-color: #fff;
      margin: 20px auto;
      padding: 20px;
      max-width: 1200px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .section-container h2 {
      border-bottom: 2px solid #a30000;
      color: #a30000;
      padding-bottom: 5px;
      margin-bottom: 10px;
      text-align: center;
    }
    /* Toate paginile sunt ascunse ini»õial; clasa "active-page" le afi»ôeazƒÉ */
    .page { display: none; }
    .page.active-page { display: block; }
    /* Stil produs (listare): afi»ôeazƒÉ doar imaginea, numele »ôi pre»õul */
    .product-card {
      border: 1px solid #ccc;
      border-radius: 5px;
      overflow: hidden;
      background-color: #f8f9fa;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      text-align: center;
      height: 100%;
    }
    .product-card:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .product-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      cursor: pointer;
    }
    .product-card .card-body { padding: 15px; }
    .price-range { font-weight: bold; color: #a30000; }
    /* Stil modal produs: afi»ôeazƒÉ detalii complete */
    .modal-details { text-align: left; }
    .quantity-select, .unit-input {
      border: 1px solid #a30000;
      border-radius: 4px;
      height: 38px;
      padding: 4px;
    }
    .unit-input { width: 80px; text-align: center; margin-left: 5px; }
    .add-cart-btn {
      border: 1px solid #a30000;
      background-color: #a30000;
      color: #fff;
      border-radius: 0 4px 4px 0;
      height: 38px;
      font-weight: bold;
      width: 100%;
    }
    .add-cart-btn:hover { background-color: #7a0000; }
    #filter-input { max-width: 400px; margin: 0 auto 20px; }
    footer { text-align: center; }
    /* Slider pentru pagina de start */
    .slider-container {
      overflow: hidden;
      position: relative;
      height: 150px;
      margin-top: 20px;
      opacity: 0.6;
    }
    .slider-track {
      display: flex;
      width: max-content;
      animation: slide 20s linear infinite;
    }
    .slider-track img {
      width: 250px;
      height: 150px;
      object-fit: cover;
      margin-right: 10px;
      border-radius: 5px;
    }
    @keyframes slide {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }
    .attractive-text {
      font-size: 1.1rem;
      line-height: 1.6;
      color: #333;
      text-align: center;
    }
    button { transition: transform 0.1s ease, background-color 0.2s ease; }
    button:active { transform: scale(0.98); }
    #backToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 100;
      background: #a30000;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 1.5rem;
      display: none;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    #backToTop:hover { background: #7a0000; }
    .invoice {
      max-width: 800px;
      margin: 20px auto;
      padding: 20px;
      font-family: "Times New Roman", Times, serif;
      text-align: center;
    }
    .invoice h2, .invoice p, .invoice table {
      margin: 0 0 10px;
      padding: 0;
      text-align: center;
    }
    .invoice table {
      width: 100%;
      border-collapse: collapse;
    }
    .invoice table, .invoice table th, .invoice table td {
      border: 1px solid #000;
    }
    .invoice table th, .invoice table td { padding: 5px; text-align: center; }
    /* Carousel "Despre noi" ‚Äì imagini la dimensiuni fixe */
    #aboutCarousel .carousel-item img {
      width: 600px;
      height: 400px;
      object-fit: cover;
      margin: 0 auto;
    }
    @media (max-width: 768px) {
      nav ul { justify-content: center; }
      .main-container { margin: 10px; padding: 15px; }
      .product-card img { height: 150px; }
    }
    /* Slider pentru imagini de ambalaje (pentru produsele variant din modal, dacƒÉ se folose»ôte acest element) */
    .variant-slider-container {
      overflow: hidden;
      position: relative;
      height: 100px;
      margin-top: 10px;
    }
    .variant-slider-track {
      display: flex;
      width: max-content;
      animation: slide 10s linear infinite;
    }
    .variant-slider-track img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      margin-right: 5px;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="d-flex justify-content-between align-items-center flex-wrap">
    <div class="d-flex align-items-center">
      <img src="https://via.placeholder.com/150x50?text=Logo" alt="Logo" class="logo me-2">
      <span class="fs-4">Magazin Bisericesc</span>
    </div>
    <nav>
      <ul>
        <li><a onclick="navigateTo('home')">AcasƒÉ</a></li>
        <li><a onclick="navigateTo('produse')">Produse</a></li>
        <li><a onclick="navigateTo('despre')">Despre noi</a></li>
        <li><a onclick="navigateTo('termeni')">Termeni & Condi»õii</a></li>
        <li><a onclick="navigateTo('calendar')">Calendar</a></li>
        <li><a onclick="navigateTo('admin')">Admin</a></li>
        <li><a onclick="navigateTo('cos')">Co»ô</a></li>
      </ul>
    </nav>
    <div class="cart-icon" onclick="navigateTo('cos')">
      <img src="https://via.placeholder.com/24?text=üõí" alt="Co»ô">
      <span class="badge" id="cart-count">0</span>
    </div>
  </header>

  <!-- Timer dinamic -->
  <div class="text-center py-2" style="background-color:#fff;">
    <span id="timer" class="fs-5 text-danger"></span>
  </div>

  <!-- CON»öINUT PRINCIPAL -->
  <main class="main-container" id="content">
    <!-- Pagina de start -->
    <section id="home" class="page active-page">
      <div class="section-container">
        <h2>Bine a»õi venit la Magazinul Bisericesc</h2>
        <div class="text-center py-3">
          <p>DescoperƒÉ produsele noastre pentru momente de spiritualitate!</p>
          <button class="btn btn-dark mb-3" onclick="navigateTo('produse')">Vezi produsele</button>
          <div class="slider-container">
            <div class="slider-track" id="slider-track"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Pagina Produse -->
    <section id="produse" class="page">
      <div class="section-container">
        <h2>Produsele noastre</h2>
        <input type="text" id="filter-input" class="form-control mb-3" placeholder="CautƒÉ produs..." onkeyup="renderProducts()">
        <div id="products-container" class="row"></div>
      </div>
    </section>

    <!-- Pagina Detalii Produs -->
    <section id="produs" class="page">
      <div class="section-container">
        <div id="produs-container"></div>
        <div id="modal-controls" class="mt-3"></div>
        <div class="text-center mt-3">
          <button class="btn btn-secondary" onclick="navigateTo('produse')">√énapoi la Produse</button>
        </div>
      </div>
    </section>

    <!-- Pagina Despre noi -->
    <section id="despre" class="page">
      <div class="section-container">
        <h2>Despre noi</h2>
        <p class="attractive-text">
          Magazinul Bisericesc se remarcƒÉ prin pasiunea pentru tradi»õie »ôi spiritualitate. Fondat pentru a oferi obiecte de cult de cea mai √ÆnaltƒÉ calitate, colaborƒÉm cu me»ôteri locali dedica»õi care √Æ»ôi pun inima √Æn fiecare lucrare. Oferta noastrƒÉ reune»ôte at√¢t obiecte artizanale, c√¢t »ôi accesorii moderne, toate selectate cu aten»õie pentru a oferi o experien»õƒÉ spiritualƒÉ autenticƒÉ. Ne m√¢ndrim cu transparen»õa informa»õiilor tehnice despre fiecare produs, pentru ca tu sƒÉ te sim»õi √Æn siguran»õƒÉ √Æn alegerea ta.
        </p>
        <!-- Carousel "Despre noi" -->
        <div id="aboutCarousel" class="carousel slide mt-3" data-bs-ride="carousel" data-bs-touch="true">
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="https://via.placeholder.com/600x400?text=Biserica+1" class="d-block w-100" alt="Biserica 1">
            </div>
            <div class="carousel-item">
              <img src="https://via.placeholder.com/600x400?text=Biserica+2" class="d-block w-100" alt="Biserica 2">
            </div>
            <div class="carousel-item">
              <img src="https://via.placeholder.com/600x400?text=Productie+1" class="d-block w-100" alt="Productie 1">
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#aboutCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#aboutCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
    </section>

    <!-- Pagina Termeni »ôi Condi»õii -->
    <section id="termeni" class="page">
      <div class="section-container">
        <h2>Termeni »ôi Condi»õii</h2>
        <p class="attractive-text">
          Acces√¢nd acest site, sunte»õi de acord cu to»õi termenii »ôi condi»õiile de utilizare. Informa»õiile furnizate sunt destinate sƒÉ asigure o experien»õƒÉ transparentƒÉ »ôi sigurƒÉ. Magazinul √Æ»ôi rezervƒÉ dreptul de a modifica periodic aceste condi»õii, iar continuarea utilizƒÉrii platformei implicƒÉ acceptarea modificƒÉrilor. Datele personale sunt protejate conform normelor √Æn vigoare, iar orice solicitare de suport este tratatƒÉ cu maximƒÉ seriozitate.
        </p>
      </div>
    </section>

    <!-- Pagina Calendar -->
    <section id="calendar" class="page">
      <div class="section-container">
        <h2>Calendar Cre»ôtin Ortodox ‚Äì Aprilie</h2>
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>Ziua</th>
              <th>SƒÉrbƒÉtoare</th>
            </tr>
          </thead>
          <tbody>
            <!-- Exemplu de formatare: 
                 - Sfin»õii rom√¢ni: text √Æn albastru;
                 - SƒÉrbƒÉtorile mari »ôi duminicile: text √Æn ro»ôu;
                 - Restul: text implicit (negru) -->
            <tr>
              <td>1</td>
              <td>M <span style="color: blue;">Sf. Cuv. Maria Egipteanca; Sf. Cuv. Macarie MƒÉrt.; Sf. Mc. Gherontie; Sf. Varsanufie de la Optina (Post)</span></td>
            </tr>
            <tr>
              <td>2</td>
              <td>M <span style="color: blue;">Sf. Cuv. Tit, fƒÉcƒÉtorul de minuni; Sf. Mc. Amfian »ôi Edesie (Denia Canonului cel Mare) (Post)</span></td>
            </tr>
            <tr>
              <td>3</td>
              <td>J <span style="color: blue;">Sf. Cuv. Nichita MƒÉrt. »ôi Ilirie (Dezlegare la ulei »ôi vin)</span></td>
            </tr>
            <tr>
              <td>4</td>
              <td>V <span style="color: blue;">Sf. Cuv. Iosif Imnograful, Gheorghe din Maleon »ôi Zosima (Denia Acatistului Bunei Vestiri) (Post)</span></td>
            </tr>
            <tr>
              <td>5</td>
              <td>S <span style="color: blue;">Sf. Mc. Victorin »ôi cei √ÆmpreunƒÉ cu el; Sf. Mc. Teodul »ôi Agatopod (S√¢mbƒÉta a V-a din Post ‚Äì Pomenirea mor»õilor) (Dezlegare la ulei »ôi vin)</span></td>
            </tr>
            <tr>
              <td>6</td>
              <td>D <span style="color: red;">‚Ä† Sf. Sfin»õit Mc. Irineu, ep. de Sirmium; Sf. Ier. Eutihie, patr. Constantinopolului; Sf. Cuv. Grigorie Sinaitul »ôi Platonida (Dezlegare la ulei »ôi vin)
              Duminica a V-a din Post (a Sf. Cuv. Maria Egipteanca; Prevestirea Patimilor; Cererea fiilor lui Zevedeu; PocƒÉin»õa femeii pƒÉcƒÉtoase); Ap. Evrei IX, 11-14; Galateni III, 23-29; Ev. Marcu X, 32-45; Luca VII, 36-50; glas 8, voscr. 8</span></td>
            </tr>
            <tr>
              <td>7</td>
              <td>L <span style="color: black;">Sf. Mc. Caliopie; Sf. Ier. Gheorghe MƒÉrt., ep. Mitilenei (Post)</span></td>
            </tr>
            <tr>
              <td>8</td>
              <td>M <span style="color: black;">Sf. Ap. Irodion, Agav, Ruf, Flegon, Asincrit »ôi Ermis; Sf. Ier. Celestin, ep. Romei (Post)</span></td>
            </tr>
            <tr>
              <td>9</td>
              <td>M <span style="color: black;">Sf. Mc. Eupsihie din Cezareea Capadociei; Sf. Cuv. Vadim (Post)</span></td>
            </tr>
            <tr>
              <td>10</td>
              <td>J <span style="color: black;">Sf. Mc. Terentie, Pompei, African, Maxim »ôi Dima (Post)</span></td>
            </tr>
            <tr>
              <td>11</td>
              <td>V <span style="color: red;">‚Ä† Sf. Ier. Calinic de la Cernica, ep. R√¢mnicului; Sf. Sfin»õit Mc. Antipa, ep. Pergamului Asiei (Dezlegare la ulei »ôi vin)</span></td>
            </tr>
            <tr>
              <td>12</td>
              <td>S <span style="color: red;">‚Ä† Sf. Mc. Sava de la BuzƒÉu; Sf. Ier. Vasile MƒÉrt., ep. Pariei (S√¢mbƒÉta lui LazƒÉr ‚Äì Pomenirea mor»õilor) (Dezlegare la ulei »ôi vin)</span></td>
            </tr>
            <tr>
              <td>13</td>
              <td>D <span style="color: red;">(Denia Sf. »ôi Marii Luni) (Dezlegare la pe»ôte)
              (‚Ä†) Intrarea Domnului √Æn Ierusalim (Duminica a VI-a din Post ‚Äì a Floriilor); Ap. Filipeni IV, 4-9; Ev. Ioan XII, 1-18</span></td>
            </tr>
            <tr>
              <td>14</td>
              <td>L <span style="color: blue;">Sf. »ôi Marea Luni; ‚Ä† Sf. Ier. Pahomie de la Gledin, ep. Romanului; Sf. Ier. Martin MƒÉrt., ep. Romei; Sf. Mc. Tomaida (Denia Sf. »ôi Marii Mar»õi) (Numai seara, p√¢ine »ôi apƒÉ)</span></td>
            </tr>
            <tr>
              <td>15</td>
              <td>M <span style="color: blue;">Sf. »ôi Marea Mar»õi; Sf. Ap. Aristarh, Pud »ôi Trofim; Sf. Mc. Crescent (Denia Sf. »ôi Marii Miercuri) (Numai seara, p√¢ine »ôi apƒÉ)</span></td>
            </tr>
            <tr>
              <td>16</td>
              <td>M <span style="color: blue;">Sf. »ôi Marea Miercuri; Sf. Mc. Fecioare Agapia, Irina »ôi Hionia (Denia Sf. »ôi Marii Joi) (Numai seara, p√¢ine »ôi apƒÉ)</span></td>
            </tr>
            <tr>
              <td>17</td>
              <td>J <span style="color: red;">Sf. »ôi Marea Joi; Sf. Sfin»õit Mc. Simeon, ep. Persiei (Pomenirea mor»õilor ‚Äì Denia celor 12 Evanghelii, a Sf. »ôi Marii Vineri) (Dezlegare la ulei »ôi vin)</span></td>
            </tr>
            <tr>
              <td>18</td>
              <td>V <span style="color: red;">Sf. »ôi Marea Vineri ‚Äì Scoaterea Sf. Aer; Sf. Cuv. Ioan, ucenicul Sf. Grigorie Decapolitul (Denia Prohodului Domnului, a Sf. »ôi Marii S√¢mbete) (Zi aliturgicƒÉ) (Post negru)</span></td>
            </tr>
            <tr>
              <td>19</td>
              <td>S <span style="color: black;">Sf. »ôi Marea S√¢mbƒÉtƒÉ; Sf. Cuv. Ioan de la Lavra Veche; Sf. Sfin»õit Mc. Pafnutie (Dezlegare la ulei »ôi vin)</span></td>
            </tr>
            <tr>
              <td>20</td>
              <td>D <span style="color: red;">‚Ä† √énvierea Domnului (Sfintele Pa»ôti); Ap. Fapte I, 1-8; Ev. Ioan I, 1-17</span></td>
            </tr>
            <tr>
              <td>21</td>
              <td>L <span style="color: red;">‚Ä† A doua zi de Pa»ôti (MƒÉrturia lui Ioan BotezƒÉtorul); ‚Ä† Cinstirea Sf. Ic. a M. D. ‚ÄûAxion Estin‚Äù de la M. Protaton ‚Äì Athos; Sf. Sfin»õit Mc. Ianuarie, ep. de Benevent; Sf. Mc. Teodor din Perga; Sf. Mc. Alexandra, √Æmp.</span></td>
            </tr>
            <tr>
              <td>22</td>
              <td>M <span style="color: red;">‚Ä† A treia zi de Pa»ôti (Drumul spre Emaus); Sf. Ier. Teodor Sicheotul, ep. Anastasiopolei</span></td>
            </tr>
            <tr>
              <td>23</td>
              <td>M <span style="color: red;">‚Ä† Sf. M. Mc. Gheorghe, PurtƒÉtorul de biruin»õƒÉ; Sf. Mc. Valerie (Har»õi)</span></td>
            </tr>
            <tr>
              <td>24</td>
              <td>J <span style="color: red;">‚Ä† Sf. Ier. MƒÉrt. Ilie Iorest, Sava Brancovici »ôi Simion »òtefan, mitr. Transilvaniei; Sf. Ier. Iosif MƒÉrt. din Maramure»ô; Sf. Mc. Pasicrat »ôi Valentin; Sf. Cuv. Elisabeta</span></td>
            </tr>
            <tr>
              <td>25</td>
              <td>V <span style="color: red;">‚Ä† Izvorul TƒÉmƒÉduirii; ‚Ä† Cinstirea Sf. Ic. a M. D. ‚ÄûSiriaca‚Äù de la M. Ghighiu; Sf. Ap. »ôi Ev. Marcu; ‚Ä† Sf. Cuv. Vasile de la Poiana MƒÉrului (Har»õi)</span></td>
            </tr>
            <tr>
              <td>26</td>
              <td>S <span style="color: black;">Sf. Sfin»õit Mc. Vasilevs, ep. Amasiei; Sf. Cuv. Glafira; ‚Ä† Sf. Mc. Chiril, Chindeu »ôi Tasie din Axiopolis (CernavodƒÉ)</span></td>
            </tr>
            <tr>
              <td>27</td>
              <td>D <span style="color: red;">Sf. Sfin»õit Mc. Simeon, ruda Domnului, ep. Ierusalimului. Duminica a II-a dupƒÉ Pa»ôti (a Sf. Ap. Toma); Ap. Fapte V, 12-20; Ev. Ioan XX, 19-31; glas 1, voscr. 1</span></td>
            </tr>
            <tr>
              <td>28</td>
              <td>L <span style="color: black;">Sf. Ap. Iason »ôi Sosipatru; Sf. Mc. Maxim, Cvintilian »ôi Dadas din Ozovia</span></td>
            </tr>
            <tr>
              <td>29</td>
              <td>M <span style="color: black;">Sf. 9 Mc. din Cizic; Sf. Cuv. Memnon, fƒÉcƒÉtorul de minuni</span></td>
            </tr>
            <tr>
              <td>30</td>
              <td>M <span style="color: black;">Sf. Ap. Iacob al lui Zevedeu, fratele Sf. Ap. »ôi Ev. Ioan; Sf. Ier. Donat, ep. Evriei (Dezlegare la pe»ôte)</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Pagina Co»ô -->
    <section id="cos" class="page">
      <div class="section-container">
        <h2>Co»ôul de CumpƒÉrƒÉturi</h2>
        <div id="cart-container"></div>
        <div class="mt-3">
          <button class="btn btn-danger" onclick="clearCart()">Clear Cart</button>
        </div>
        <div id="order-form" style="display:none;" class="mt-4">
          <h4>Date pentru comandƒÉ</h4>
          <div class="mb-3 text-start">
            <label>Nume:</label>
            <input type="text" id="customer-name" class="form-control" required>
          </div>
          <div class="mb-3 text-start">
            <label>Contact (Email/Telefon):</label>
            <input type="text" id="customer-contact" class="form-control" required>
          </div>
          <div class="mb-3 text-start">
            <label>Cod Reducere (op»õional):</label>
            <input type="text" id="discount-code" class="form-control" placeholder="Ex: DISC10">
          </div>
          <div id="final-total-display" class="mb-3"></div>
          <button class="btn btn-success" onclick="placeOrder()">FinalizeazƒÉ Comanda</button>
        </div>
      </div>
    </section>

    <!-- Pagina Detalii ComandƒÉ -->
    <section id="order-details" class="page">
      <div class="section-container">
        <h2>Detalii ComandƒÉ</h2>
        <div id="order-details-container"></div>
        <div class="text-center mt-3">
          <button class="btn btn-secondary" onclick="navigateTo('home')">√énapoi AcasƒÉ</button>
        </div>
      </div>
    </section>

    <!-- Pagina Admin -->
    <section id="admin" class="page">
      <div class="section-container">
        <h2>Admin</h2>
        <div id="admin-content"></div>
      </div>
    </section>
  </main>

  <!-- Buton Back to Top -->
  <button id="backToTop" onclick="scrollToTop()">&#8679;</button>

  <!-- FOOTER -->
  <footer>
    <p>&copy; <span id="year"></span> Magazin Bisericesc. Toate drepturile rezervate.</p>
    <img src="https://via.placeholder.com/150x50?text=ANPC" alt="Logo ANPC">
  </footer>

  <!-- Formular pentru trimiterea emailului cu FormSubmit -->
  <form id="notifyForm" action="https://formsubmit.co/irimia.teodor.17@gmail.com" method="POST" style="display: none;">
    <input type="hidden" name="_next" value="https://jmecheria.github.io/Magazin-bisericesc/">
    <input type="hidden" name="subject" value="Notificare ComandƒÉ - Magazin Bisericesc">
    <input type="hidden" name="orderDetails" id="orderDetailsInput">
    <input type="hidden" name="_captcha" value="false">
  </form>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    /* Func»õie de navigare:
       Ascunde toate paginile (elementele cu clasa .page) »ôi apoi seteazƒÉ display: block »ôi clasa "active-page"
       pentru pagina selectatƒÉ. */
    function navigateTo(pageId) {
      document.querySelectorAll('.page').forEach(function(page) {
        page.style.display = "none";
        page.classList.remove("active-page");
      });
      var target = document.getElementById(pageId);
      if(target){
        target.style.display = "block";
        target.classList.add("active-page");
      }
      if(pageId === 'admin') { loadAdmin(); }
      if(pageId === 'produse') { renderProducts(); }
    }

    // Func»õia "Back to Top"
    window.onscroll = function() {
      const btn = document.getElementById("backToTop");
      btn.style.display = (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) ? "block" : "none";
    };
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // SeteazƒÉ anul √Æn footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Timer p√¢nƒÉ la Pa»ôti
    function startTimer() {
      let easterDate = new Date("2025-04-20T00:00:00").getTime();
      let timerElem = document.getElementById("timer");
      setInterval(() => {
        let now = new Date().getTime();
        let distance = easterDate - now;
        let days = Math.floor(distance / (1000 * 60 * 60 * 24));
        let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        let seconds = Math.floor((distance % (1000 * 60)) / 1000);
        timerElem.textContent = (distance > 0)
          ? "Timp p√¢nƒÉ la Pa»ôti: " + days + "z " + hours + "h " + minutes + "m " + seconds + "s"
          : "SƒÉrbƒÉtoarea a √Ænceput! UrmƒÉtoarea se anun»õƒÉ √Æn cur√¢nd.";
      }, 1000);
    }
    startTimer();

    // Lista de produse conform specifica»õiilor primite
    const products = [
      { id: 1, name: "CandelƒÉ mare TIP IV", price: 19.99, image: "1.jpg", description: "Lum√¢nare din cearƒÉ naturalƒÉ cu o lungƒÉ durata de via»õƒÉ. 7 zile", stock: 50, labels: ["Popular"] },
      { id: 2, name: "CandelƒÉ mare TIP III", price: 12.99, image: "2.jpg", description: "Lum√¢nare din cearƒÉ naturalƒÉ cu o lungƒÉ durata de via»õƒÉ. 100h", stock: 40, labels: ["Recomandat"] },
      { id: 3, name: "CandelƒÉ mare TIP II", price: 9.99, image: "3.jpg", description: "Lum√¢nare din cearƒÉ naturalƒÉ cu o lungƒÉ durata de via»õƒÉ. 60h", stock: 30, labels: ["Best Seller"] },
      { id: 4, name: "CandelƒÉ mare TIP I", price: 6.99, image: "4.jpg", description: "Lum√¢nare din cearƒÉ naturalƒÉ cu o lungƒÉ durata de via»õƒÉ. 16h", stock: 60, labels: ["Pentru zile negre"] },
      { id: 5, name: "TƒÉm√¢ie de Oa»ôƒÉ", price: 63.99, image: "5.jpg", description: "TƒÉm√¢ie de √ÆnaltƒÉ calitate. 200g", stock: 80, labels: ["BunƒÉ pentru uz zilnic"] },
      { id: 6, name: "TƒÉm√¢ie de Vatopedu", price: 68.99, image: "6.jpg", description: "TƒÉm√¢ie de √ÆnaltƒÉ calitate. 200g", stock: 70, labels: ["Premium"] },
      { id: 7, name: "TƒÉm√¢ie de P√¢ngƒÉra»õi", price: 23.99, image: "7.jpg", description: "TƒÉm√¢ie de √ÆnaltƒÉ calitate. 50g", stock: 35, labels: ["Cantitate mai micƒÉ"] },
      { id: 8, name: "Acatiste »ôi Vie»õile sfin»õilor", price: 9.99, image: "8.jpg", description: "La nevoi »ôi necazuri cel mai bun ajutor. √én diferite formate; cel mai des √Ænt√¢lnit este cel de 11*16", stock: 45, labels: ["Nou"] },
      { id: 9, name: "Psaltire", price: 29.99, image: "9.jpg", description: "Unul dintre cele mai importante lucruri care trebuie sƒÉ fie √Æn casƒÉ. 14.5*20cm", stock: 55, labels: ["Recomandat"] },
      { id: 10, name: "Ceaslov", price: 44.99, image: "10.jpg", description: "Un ajutor important la rugƒÉciunea casei. A4", stock: 50, labels: ["Recomandat"] },
      { id: 11, name: "Lum√¢nare √énviere", price: 44.99, image: "11.jpg", description: "Lum√¢nare cu design modern pentru realizarea slujbei de √Ænviere.", stock: 60, labels: ["Nou"] },
      { id: 12, name: "IcoanƒÉ TIP I", price: 25.99, image: "12.jpg", description: "IcoanƒÉ pentru rugƒÉciuni. A4", stock: 40, labels: ["Pentru zile negre"] },
      { id: 13, name: "IcoanƒÉ TIP II", price: 22.99, image: "13.jpg", description: "IcoanƒÉ pentru rugƒÉciuni. A5", stock: 30, labels: ["Recomandat"] },
      { id: 14, name: "IcoanƒÉ TIP III", price: 19.99, image: "14.jpg", description: "IcoanƒÉ pentru rugƒÉciuni. 24*10", stock: 45, labels: ["Special"] },
      { id: 15, name: "IcoanƒÉ TIP IV", price: 139.99, image: "15.jpg", description: "IcoanƒÉ pentru rugƒÉciuni. A4", stock: 20, labels: ["Limited Edition"] },
      { id: 16, name: "Cruciuli»õƒÉ", price: 12.99, image: "16.jpg", description: "Un simbol protector al credin»õei, dar »ôi al persoanei ce o poartƒÉ. 5*3cm", stock: 100, labels: ["Special"] },
      { id: 17, name: "Cruce binecuv√¢ntare", price: 149.99, image: "17.jpg", description: "RealizatƒÉ pentru slujbe. 30*13cm", stock: 25, labels: ["Limited Edition"] },
      { id: 18, name: "Mir de oa»ôƒÉ", price: 9.99, image: "18.jpg", description: "Un lucru mic pentru o familie mare.", stock: 30, labels: ["Pentru zile negre"] },
      { id: 19, name: "Pomelnice anuale", price: 99.99, image: "19.jpg", description: "Pentru a vƒÉ aminti de cei dragi vouƒÉ.", stock: 15, labels: ["Special"] },
      { id: 20, name: "Biblia", price: 149.99, image: "20.jpg", description: "O carte obligatorie pentru orice cre»ôtin. 21*15cm", stock: 40, labels: ["Recomandat"] }
    ];

    let cart = [];

    // Listarea produselor pe pagina "Produse"
    function renderProducts() {
      const container = document.getElementById('products-container');
      container.innerHTML = "";
      const filterValue = document.getElementById('filter-input').value.toLowerCase();
      products.forEach(prod => {
        if(prod.name.toLowerCase().includes(filterValue)) {
          let infoText = `<span class="price-range">${prod.price.toFixed(2)} Lei</span>`;
          const col = document.createElement('div');
          col.className = "col-md-4 mb-4";
          col.innerHTML = `
            <div class="card product-card">
              <img src="${prod.image}" class="card-img-top" alt="${prod.name}" onclick="viewProduct(${prod.id})">
              <div class="card-body">
                <h5 class="card-title">${prod.name}<br>${infoText}</h5>
                <button class="btn btn-outline-primary" onclick="viewProduct(${prod.id})">Detalii</button>
              </div>
            </div>`;
          container.appendChild(col);
        }
      });
    }

    // Afi»ôarea detaliilor produsului (pagina "produs")
    function viewProduct(id) {
      const prod = products.find(p => p.id === id);
      if(!prod) return;
      const container = document.getElementById('produs-container');
      let labelsHtml = "";
      if(prod.labels && prod.labels.length)
        labelsHtml = prod.labels.map(l => `<span class="badge bg-info text-dark me-1">${l}</span>`).join("");
      let detailsHtml = `
        <div class="modal-details">
          <p><strong>Descriere:</strong> ${prod.description}</p>
          <!-- Po»õi adƒÉuga aici »ôi detalii suplimentare, cum ar fi material/dimensiuni -->
        </div>
        <div class="mb-3">
          <label>NumƒÉr de unitƒÉ»õi:</label>
          <input type="number" id="unit-${prod.id}" class="unit-input" value="1" min="1">
        </div>`;
      let stockText = prod.stock + " buc";
      container.innerHTML = `
        <div class="row">
          <div class="col-md-6">
            <img src="${prod.image}" alt="${prod.name}" class="img-fluid">
          </div>
          <div class="col-md-6 modal-details">
            <h2>${prod.name}</h2>
            <p>${prod.description}</p>
            ${labelsHtml ? `<p>${labelsHtml}</p>` : ""}
            <p><strong>Stoc disponibil:</strong> ${stockText}</p>
            ${detailsHtml}
            <button class="btn btn-danger add-cart-btn" onclick="addToCart(${prod.id})">AdaugƒÉ √Æn Co»ô</button>
          </div>
        </div>`;
      navigateTo('produs');
    }

    // AdaugƒÉ produsul √Æn co»ô
    function addToCart(id) {
      const prod = products.find(p => p.id === id);
      let units = parseInt(document.getElementById(`unit-${id}`).value) || 1;
      if(prod.stock < units) {
        alert("Nu existƒÉ suficient stoc!");
        return;
      }
      prod.stock -= units;
      let index = cart.findIndex(item => item.id === id);
      if(index > -1) {
        cart[index].units += units;
        cart[index].cost += prod.price * units;
      } else {
        cart.push({ id: id, units: units, cost: prod.price * units });
      }
      updateCartCount();
      alert(`Produsul "${prod.name}" a fost adƒÉugat √Æn co»ô.`);
    }

    function updateCartCount() {
      let totalItems = cart.reduce((sum, item) => sum + item.units, 0);
      document.getElementById('cart-count').textContent = totalItems;
      renderCart();
      updateFinalTotal();
    }

    function renderCart() {
      const container = document.getElementById('cart-container');
      if(cart.length === 0) {
        container.innerHTML = "<p>Co»ôul este gol.</p>";
        document.getElementById('order-form').style.display = "none";
        return;
      }
      let html = `<table class="table">
                    <thead>
                      <tr>
                        <th>Produs</th>
                        <th>UnitƒÉ»õi</th>
                        <th>Cost</th>
                        <th>Ac»õiune</th>
                      </tr>
                    </thead>
                    <tbody>`;
      let totalCost = 0;
      cart.forEach((item, index) => {
        const prod = products.find(p => p.id === item.id);
        totalCost += item.cost;
        html += `<tr>
                   <td>${prod.name}</td>
                   <td>${item.units}</td>
                   <td>${item.cost.toFixed(2)} Lei</td>
                   <td><button class="btn btn-warning btn-sm" onclick="removeFromCart(${index})">»òterge</button></td>
                 </tr>`;
      });
      html += `<tr>
                 <td colspan="2" class="text-end"><strong>Total Ini»õial:</strong></td>
                 <td colspan="2"><strong>${totalCost.toFixed(2)} Lei</strong></td>
               </tr>`;
      html += `</tbody></table>`;
      container.innerHTML = html;
      document.getElementById('order-form').style.display = "block";
    }

    function removeFromCart(index) {
      const removed = cart.splice(index, 1)[0];
      const prod = products.find(p => p.id === removed.id);
      prod.stock += removed.units;
      updateCartCount();
    }

    function clearCart() {
      cart.forEach(item => {
        const prod = products.find(p => p.id === item.id);
        prod.stock += item.units;
      });
      cart = [];
      updateCartCount();
      renderProducts();
    }

    function updateFinalTotal() {
      let orderTotal = cart.reduce((sum, item) => sum + item.cost, 0);
      let discountCode = document.getElementById("discount-code").value.trim();
      let discountPercent = 0;
      if(discountCode === "DISC10") discountPercent = 10;
      else if(discountCode === "DISC20") discountPercent = 20;
      let discountAmount = orderTotal * (discountPercent / 100);
      let finalTotal = orderTotal - discountAmount;
      document.getElementById("final-total-display").innerText = "Total Final: " + finalTotal.toFixed(2) + " Lei";
    }

    document.getElementById("discount-code").addEventListener("input", updateFinalTotal);

    function placeOrder() {
      const name = document.getElementById('customer-name').value.trim();
      const contact = document.getElementById('customer-contact').value.trim();
      if(name === "" || contact === "") {
        alert("CompleteazƒÉ datele de contact!");
        return;
      }
      if(cart.length === 0) {
        alert("Co»ôul este gol!");
        return;
      }
      let orderTotal = cart.reduce((sum, item) => sum + item.cost, 0);
      let discountCode = document.getElementById("discount-code").value.trim();
      let discountPercent = 0;
      if(discountCode === "DISC10") discountPercent = 10;
      else if(discountCode === "DISC20") discountPercent = 20;
      let discountAmount = orderTotal * (discountPercent / 100);
      let finalTotal = orderTotal - discountAmount;
      
      let order = {
        id: Date.now(),
        customer: { name, contact },
        items: [...cart],
        orderTotal: orderTotal.toFixed(2),
        discountCode: discountCode,
        discountPercent: discountPercent,
        discountAmount: discountAmount.toFixed(2),
        finalTotal: finalTotal.toFixed(2)
      };
      
      let orderSummary = "ID ComandƒÉ: " + order.id + "\n";
      orderSummary += "Client: " + order.customer.name + "\n";
      orderSummary += "Contact: " + order.customer.contact + "\n\n";
      orderSummary += "Detalii Produse:\n";
      order.items.forEach(item => {
        const prod = products.find(p => p.id === item.id);
        orderSummary += "Produs: " + prod.name + " - " + item.units + " unitƒÉ»õi\n";
      });
      orderSummary += "\nTotal Ini»õial: " + order.orderTotal + " Lei\n";
      if(discountPercent > 0) {
        orderSummary += "Cod Reducere: " + order.discountCode + " (" + discountPercent + "%)\n";
        orderSummary += "Valoare Reducere: " + order.discountAmount + " Lei\n";
      }
      orderSummary += "Total Final: " + order.finalTotal + " Lei\n";
      
      document.getElementById("orderDetailsInput").value = orderSummary;
      document.getElementById("notifyForm").submit();
      alert("Comanda a fost plasatƒÉ. Mul»õumim, " + name + "!");
      
      let ordersLocal = JSON.parse(localStorage.getItem("globalOrders") || "[]");
      ordersLocal.push(order);
      localStorage.setItem("globalOrders", JSON.stringify(ordersLocal));
      
      renderOrderDetails(order);
      cart = [];
      updateCartCount();
      document.getElementById('customer-name').value = "";
      document.getElementById('customer-contact').value = "";
      document.getElementById('discount-code').value = "";
      updateFinalTotal();
      renderProducts();
      navigateTo('order-details');
    }

    function renderOrderDetails(order) {
      const container = document.getElementById('order-details-container');
      let html = `<p><strong>Client:</strong> ${order.customer.name}</p>
                  <p><strong>Contact:</strong> ${order.customer.contact}</p>
                  <p><strong>Total Ini»õial:</strong> ${order.orderTotal} Lei</p>`;
      if(order.discountPercent > 0) {
        html += `<p><strong>Cod Reducere:</strong> ${order.discountCode} (${order.discountPercent}%)</p>
                 <p><strong>Valoare Reducere:</strong> ${order.discountAmount} Lei</p>`;
      }
      html += `<p><strong>Total Final:</strong> ${order.finalTotal} Lei</p>
               <table class="table">
                 <thead>
                   <tr>
                     <th>Produs</th>
                     <th>UnitƒÉ»õi</th>
                     <th>Cost</th>
                   </tr>
                 </thead>
                 <tbody>`;
      order.items.forEach(item => {
        const prod = products.find(p => p.id === item.id);
        html += `<tr>
                   <td>${prod.name}</td>
                   <td>${item.units}</td>
                   <td>${item.cost.toFixed(2)} Lei</td>
                 </tr>`;
      });
      html += `</tbody></table>`;
      container.innerHTML = html;
    }

    // Slider pentru pagina de start
    function renderSlider() {
      const sliderTrack = document.getElementById("slider-track");
      if(!sliderTrack) return;
      sliderTrack.innerHTML = "";
      products.slice(0, 5).forEach(prod => {
        const img = document.createElement("img");
        img.src = prod.image;
        img.alt = prod.name;
        sliderTrack.appendChild(img);
      });
    }

    document.addEventListener("DOMContentLoaded", function() {
      renderProducts();
      renderSlider();
    });

    /* Sec»õiunea Admin */
    let adminLogged = false;
    function loadAdmin() {
      const adminDiv = document.getElementById('admin-content');
      if(!adminLogged) {
        adminDiv.innerHTML = `
          <div class="section-container text-start">
            <h2>Login Admin</h2>
            <div class="mb-3">
              <label>Utilizator:</label>
              <input type="text" id="admin-user" class="form-control">
            </div>
            <div class="mb-3">
              <label>ParolƒÉ:</label>
              <input type="password" id="admin-pass" class="form-control">
            </div>
            <button class="btn btn-primary" onclick="adminLogin()">Login</button>
          </div>`;
      } else {
        adminDiv.innerHTML = `
          <div class="section-container">
            <h2>Dashboard Admin</h2>
            <div class="mb-3">
              <button class="btn btn-secondary" onclick="updateAllStocks()">ActualizeazƒÉ stocurile</button>
            </div>
            <h5>Filtrare Produse</h5>
            <input type="text" id="admin-filter" class="form-control mb-3" placeholder="CautƒÉ produs √Æn admin..." onkeyup="renderAdminProducts()">
            <div id="admin-products-container" class="mb-4"></div>
            <h5>Comenzi Plasate</h5>
            <div id="admin-orders-container"></div>
            <button class="btn btn-secondary mt-3" onclick="adminLogout()">Logout</button>
          </div>`;
        renderAdminProducts();
        renderAdminOrders();
      }
    }

    function adminLogin() {
      const user = document.getElementById('admin-user').value.trim();
      const pass = document.getElementById('admin-pass').value.trim();
      if(user === "admin" && pass === "parola123") {
        adminLogged = true;
        loadAdmin();
      } else {
        alert("Autentificare e»ôuatƒÉ!");
      }
    }

    function adminLogout() {
      adminLogged = false;
      loadAdmin();
    }

    function updateAllStocks() {
      products.forEach(prod => {
        // Pentru aceste produse standard, actualizeazƒÉ stocul direct
        const input = document.getElementById(`new-stock-${prod.id}`);
        if(input) {
          prod.stock = parseInt(input.value) || prod.stock;
        }
      });
      alert("Stocurile au fost actualizate.");
      renderProducts();
      renderAdminProducts();
    }

    function renderAdminProducts() {
      const container = document.getElementById('admin-products-container');
      container.innerHTML = "";
      const filter = document.getElementById('admin-filter').value.toLowerCase();
      products.forEach(prod => {
        if(prod.name.toLowerCase().includes(filter)) {
          let stockHtml = `<strong>Stoc actual:</strong> ${prod.stock} buc<br>
                           <input type="number" id="new-stock-${prod.id}" placeholder="Nou stoc" style="width:70px; margin-top:3px;">`;
          const prodHTML = `
            <div class="mb-2 p-2" style="border:1px solid #ccc; border-radius:5px;">
              <strong>${prod.name}</strong><br>
              ${stockHtml}
            </div>`;
          container.innerHTML += prodHTML;
        }
      });
    }

    function renderAdminOrders() {
      let orders = JSON.parse(localStorage.getItem("globalOrders") || "[]");
      const container = document.getElementById('admin-orders-container');
      if(orders.length === 0) {
        container.innerHTML = "<p>Nu existƒÉ comenzi.</p>";
        return;
      }
      let html = `<table class="table">
                    <thead>
                      <tr>
                        <th>ID ComandƒÉ</th>
                        <th>Client</th>
                        <th>Detalii Produse</th>
                        <th>Total Final</th>
                        <th>Ac»õiuni</th>
                      </tr>
                    </thead>
                    <tbody>`;
      orders.forEach((order, idx) => {
        let details = "";
        order.items.forEach(item => {
          const prod = products.find(p => p.id === item.id);
          details += "Produs: " + prod.name + " - " + item.units + " unitƒÉ»õi<br>";
        });
        html += `<tr>
                   <td>${order.id}</td>
                   <td>${order.customer.name}<br>${order.customer.contact}</td>
                   <td>${details}</td>
                   <td>${order.finalTotal} Lei</td>
                   <td>
                     <button class="btn btn-success btn-sm" onclick="finishOrder(${idx})">TerminatƒÉ</button>
                     <button class="btn btn-info btn-sm" onclick="printInvoice(${idx})">TipƒÉre»ôte Factura</button>
                   </td>
                 </tr>`;
      });
      html += `</tbody></table>`;
      container.innerHTML = html;
    }

    function finishOrder(index) {
      let orders = JSON.parse(localStorage.getItem("globalOrders") || "[]");
      if(index >= 0 && index < orders.length) {
        orders.splice(index, 1);
        localStorage.setItem("globalOrders", JSON.stringify(orders));
        alert("Comanda a fost finalizatƒÉ.");
        renderAdminOrders();
      }
    }

    function printInvoice(index) {
      let orders = JSON.parse(localStorage.getItem("globalOrders") || "[]");
      if(orders.length <= index) return;
      const order = orders[index];
      let invoiceWindow = window.open("", "PrintInvoice", "width=800,height=600");
      let htmlContent = `
        <html>
        <head>
          <title>Factura - Comanda ${order.id}</title>
          <style>
            body { font-family: "Times New Roman", Times, serif; padding: 20px; text-align: center; }
            h2, p, table { margin: 0 0 10px; padding: 0; text-align: center; }
            table { width: 100%; border-collapse: collapse; }
            table, th, td { border: 1px solid #000; }
            th, td { padding: 5px; text-align: center; }
          </style>
        </head>
        <body>
          <h2>Factura - Comanda ${order.id}</h2>
          <p><strong>Client:</strong> ${order.customer.name}</p>
          <p><strong>Contact:</strong> ${order.customer.contact}</p>
          <p><strong>Total Ini»õial:</strong> ${order.orderTotal} Lei</p>`;
      if(order.discountPercent > 0) {
        htmlContent += `<p><strong>Cod Reducere:</strong> ${order.discountCode} (${order.discountPercent}%)</p>
                        <p><strong>Valoare Reducere:</strong> ${order.discountAmount} Lei</p>`;
      }
      htmlContent += `<p><strong>Total Final:</strong> ${order.finalTotal} Lei</p>
          <table>
            <thead>
              <tr>
                <th>Produs</th>
                <th>UnitƒÉ»õi</th>
                <th>Cost</th>
              </tr>
            </thead>
            <tbody>`;
      order.items.forEach(item => {
        const prod = products.find(p => p.id === item.id);
        htmlContent += `<tr>
                          <td>${prod.name}</td>
                          <td>${item.units}</td>
                          <td>${item.cost.toFixed(2)} Lei</td>
                        </tr>`;
      });
      htmlContent += `</tbody></table>
          </body>
          </html>`;
      invoiceWindow.document.write(htmlContent);
      invoiceWindow.document.close();
      invoiceWindow.focus();
      invoiceWindow.print();
    }

    // Slider pentru pagina de start
    function renderSlider() {
      const sliderTrack = document.getElementById("slider-track");
      if(!sliderTrack) return;
      sliderTrack.innerHTML = "";
      products.slice(0, 5).forEach(prod => {
        const img = document.createElement("img");
        img.src = prod.image;
        img.alt = prod.name;
        sliderTrack.appendChild(img);
      });
    }

    document.addEventListener("DOMContentLoaded", function() {
      // Ini»õial, afi»ôeazƒÉ pagina de start
      navigateTo('home');
      renderProducts();
      renderSlider();
    });
  </script>
</body>
</html>
